from vk_api.bot_longpoll import VkBotLongPoll, VkBotEventType
import vk_api
import vk
import random
import time

print('Бот успешно запущен!')


vk = vk_api.VkApi(token="1ec38452a02619f11c71e383337fb84e70dae8a3a7ce939b77fc0232dd35a29087263938fbb9caca5dcde")

vk._auth_token()

vk.get_api()

longpoll = VkBotLongPoll(vk,Тут id моей группы)


while True:
    try:
        messages = vk.method("messages.getConversations", {"offset": 0, "count": 20, "filter": "unanswered"})
        if messages["count"] >= 1:
            id = messages["items"][0]["last_message"]["from_id"]
            body = messages["items"][0]["last_message"]["text"]
            if body.lower() == "начать спам":
                vk.method("messages.send", {"peer_id": id, "message": "&#8252;Разрешите спамить вам в лс, пропишите разрешаю&#8252;", "random_id": random.randint(1, 2147483647)})
            elif body.lower() == "разрешаю":
                vk.method("messages.send", {"peer_id": id,"message": "&#9993;Спам сообщение&#9993;\nЧтобы остановить спам пропишите стоп","random_id": random.randint(1,5346262462742722)})

            elif body.lower() == "стоп":
                vk.method("messages.send", {"peer_id": id, "message": "&#10024;Спам сообщениями остановлен&#10024;\nЕсли хотите опять начать спам сообщениями пропишите начать спам", "random_id": random.randint(1, 2147483647)})

                
    except Exception as E:
        time.sleep(1)
